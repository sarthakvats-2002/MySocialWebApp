.message {
  @apply flex flex-col mb-3 animate-fadeIn;
}

.message.own {
  @apply items-end;
}

/* Message Bubble */
.messageTop {
  @apply flex items-end gap-2 max-w-[70%];
}

.message.own .messageTop {
  @apply flex-row-reverse;
}

.messageImg {
  @apply w-8 h-8 rounded-full object-cover border-2 border-primary-500/50 flex-shrink-0;
}

.messageText {
  @apply px-4 py-2.5 rounded-2xl max-w-full break-words shadow-lg;
}

/* Other User's Message */
.message:not(.own) .messageText {
  @apply glassmorphism-strong text-slate-100;
}

/* Own Message */
.message.own .messageText {
  @apply bg-gradient-to-r from-primary-600 to-purple-600 text-white;
  box-shadow: 0 4px 15px rgba(14, 165, 233, 0.3);
}

/* Message Time */
.messageBottom {
  @apply text-[10px] text-slate-500 mt-1 px-1;
}

/* Message Groups */
.messageGroup {
  @apply space-y-1;
}

.messageGroup .message:not(:last-child) .messageText {
  @apply rounded-2xl;
}

.messageGroup .message:last-child.own .messageText {
  @apply rounded-br-md;
}

.messageGroup .message:last-child:not(.own) .messageText {
  @apply rounded-bl-md;
}

/* Hide avatar for grouped messages except last */
.messageGroup .message:not(:last-child) .messageImg {
  @apply invisible;
}

/* Responsive */
@media (max-width: 768px) {
  .messageTop {
    @apply max-w-[85%];
  }

  .messageText {
    @apply px-3 py-2 text-sm;
  }

  .messageImg {
    @apply w-7 h-7;
  }
}

/* Dark Mode */
.dark .message:not(.own) .messageText {
  @apply bg-slate-800/80 border border-white/10;
}
